# ARP 协议
地址解析协议，即ARP（Address Resolution Protocol），是根据IP地址获取物理地址的一个TCP/IP协议。   

主机发送信息时将包含目标IP地址的ARP请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。

地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存；由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。

查阅相关资料,获得以下关于 ARP 缓存表修正的信息

### Windows
1. Windows接收到一个ARP响应，便会更新本地ARP高速缓冲表。而接收到一个ARP请求，即使请求的IP地址已经记录在ARP高速缓冲表中，也不会更新ARP高速缓冲表。
2. Windows接收到目的物理地址为广播的ARP响应，如果该IP地址已记录在ARP缓冲表中，也会更新ARP缓冲表。（这点有背ARP协议的原理）
3. Windows接收到一个源IP地址为本地主机IP地址的ARP响应，会提示用户有IP地址冲突。

>#### Windows xp
>IP地址已记录在ARP缓冲表  =>  依据ARP响应中记录的源物理地址来更新ARP缓冲表   
>IP地址未记录在ARP缓冲表  =>  依据ARP请求中记录的源物理地址来更新ARP缓冲表   

>#### Windows 2003 server
>IP地址已记录在ARP缓冲表  =>  依据ARP请求中记录的源物理地址来更新ARP缓冲表  &&  依据ARP响应中记录的源物理地址来更新ARP缓冲表   
>IP地址未记录在ARP缓冲表  =>  依据ARP请求中记录的源物理地址来更新ARP缓冲表    

### Linux
1. Linux不接收目的物理地址为广播的ARP响应或目的物理地址为单播的ARP请求报文。它只接收目的物理地址为广播的ARP请求报文和目的物理地址为单播的ARP响应报文。

>IP地址已记录在ARP缓冲表  =>  依据ARP请求中记录的源物理地址来更新ARP缓冲表   
>IP地址未记录在ARP缓冲表  =>  依据ARP请求中记录的源物理地址来更新ARP缓冲表  &&  依据ARP响应和系统配置，来判断是否更新ARP缓冲表

# ARP 攻击方式及危害

###ARP攻击常用方式有: 
1. IP 地址冲突，让被攻击的主机不断跳出 IP 地址冲突对话框
2. IP 洪泛：让被攻击主机上面的 ARP 缓存塞满。
3. 网络监听：指定局域网中的任意两台主机或多台主机或局域网内的多台主机同网关之间的正常通信数据都要流经本地主机，实现网络监听。
4. ARP 欺骗：篡改被攻击主机上的 ARP 记录，使其不能正常通信。

###ARP 攻击的危害:
ARP攻击可以很轻松的造成局域网内计算机之间无法进行通讯。由于ARP协议不检测请求报文和响应报文的真实性，所以局域网对此种病毒没有任何防御。只要局域网中存在一台计算机受到ARP欺骗，其将会造成整个局域网通讯中断。

“信息监听”是ARP攻击里危害程度最为严重的病毒。一般情况下，其不会总成局域网网络的中断，但其会截获两台主机之间的通信数据。对中毒主机造成网络通信的延迟，更为危险的是泄露用户安全信息或国家安全信息。

